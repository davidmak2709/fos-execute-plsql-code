var FOS=window.FOS||{};FOS.exec=FOS.exec||{},FOS.exec.createNestedObjectAndAssign=function(e,t,s){for(var a,i=t.split("."),n=i.length-1,r=0;r<n;++r)(a=i[r])in e||(e[a]={}),e=e[a];e[i[n]]=s},FOS.exec.plsql=function(e,t,s){var a,i="danger",n="error",r="info",o="success",l="warning";apex.debug.info("FOS - Execute PL/SQL Code",t),a={dismiss:["onClick","onButton"],dismissAfter:5e3,newestOnTop:!0,preventDuplicates:!1,escapeHtml:!1,position:"top-right",iconClass:null,clearAll:!1},s instanceof Function&&s.call(e,t,a);var c,u,p,m,f,d,g,b,x=e.affectedElements,h=e.resumeCallback,v=t.ajaxId,y=t.pageItems,w=t.spinnerSettings,E=t.clobSettings,C=t.options;if(E.submitClob)switch(E.submitClobFrom){case"pageitem":m=apex.item(E.submitClobItem).getValue();break;case"javascriptvariable":var S=E.submitClobVariable.split(".").reduce((function(e,t){return e?.[t]}),window);m=S instanceof Object?JSON.stringify(S):S;break;case"javascriptinit":"function"==typeof t.submitClob?m=t.submitClob.call(t):apex.debug.warn('.... Error "submitClob" function is missing from the config options. You must define this function in the "Javascript Initialization Code" attribute in your dynamic action!')}w.showSpinner&&(w.spinnerElement=w.showSpinnerOnRegion?x:"body",d=w.spinnerElement,g=w.showSpinnerOverlay,b="body"==d,f=function(e){var t,s=apex.util.showSpinner(d,{fixed:b});return g&&(t=$('<div class="fos-region-overlay'+(b?"-fixed":"")+'"></div>').prependTo(d)),function(){t&&t.remove(),s.remove()}}),Promise.resolve(m).then((function(s){apex.server.plugin(v,{pageItems:y.itemsToSubmit,p_clob_01:s},{dataType:"json",loadingIndicator:f,target:e.browserEvent.target}).done((function(e){!function(e){if(e.status==o){var s,m,f=!1;if(f=!!e.cancelActions,e&&e.items){s=(m=e.items).length;for(var d=0;d<s;d++)m[d].display?$s(m[d].id,m[d].value,m[d].display,C.suppressChangeEvent):$s(m[d].id,m[d].value,null,C.suppressChangeEvent)}if(E.returnClob)switch(E.returnClobInto){case"pageitem":$s(E.returnClobItem,e.clob,null,C.suppressChangeEvent);break;case"javascriptvariable":FOS.exec.createNestedObjectAndAssign(window,E.returnClobVariable,e.clob);break;case"javascriptvariablejson":e.execPlsqlResult=JSON.parse(e.clob),FOS.exec.createNestedObjectAndAssign(window,E.returnClobVariable,e.execPlsqlResult),function(e){var t={hideRegions:function(e){try{apex.region(e).element.hide()}catch(t){apex.debug.warn(".... Error hiding the following region: "+e,t)}},showRegions:function(e){try{apex.region(e).element.show()}catch(t){apex.debug.warn(".... Error showing the following region: "+e,t)}},hideItems:function(e){apex.item(e).hide()},showItems:function(e){apex.item(e).show()},enableItems:function(e){apex.item(e).enable()},disableItems:function(e){apex.item(e).disable()},hideButtons:function(e){apex.jQuery("#"+e).hide()},showButtons:function(e){apex.jQuery("#"+e).show()},enableButtons:function(e){apex.jQuery("#"+e).attr("disabled",!1)},disableButtons:function(e){apex.jQuery("#"+e).attr("disabled",!0)},setValues:function(e){$s(e.name,e.value,e.display,e.suppressChangeEvent)},clearErrors:function(){apex.message.clearErrors()},itemErrors:function(e){var t=apex.util.applyTemplate(e.message,{defaultEscapeFilter:null});apex.message.showErrors({type:n,location:e.location||["inline","page"],pageItem:e.name,message:t,unsafe:!1})},refreshRegions:function(e){try{apex.region(e).refresh()}catch(t){apex.debug.warn(".... Error refreshing the following region: "+e,t)}},refreshItems:function(e){try{apex.item(e).refresh()}catch(t){apex.debug.warn(".... Error refreshing the following item: "+e,t)}},fireEvents:function(e){apex.event.trigger(e.selector||"body",e.name,e.data)},removeClass:function(e){apex.jQuery(e.selector).removeClass(e.class)},addClass:function(e){apex.jQuery(e.selector).addClass(e.class)}};if(Object.entries(t).forEach((function(t){var s=t[0],a=t[1];s in e&&Array.isArray(e[s])?e[s].forEach(a):s in e&&["boolean","number","string"].includes(typeof e[s])&&a.call(e,e[s])})),e.setFocusItem)try{apex.item(e.setFocusItem).setFocus()}catch(t){apex.debug.warn(".... Error setting focus the following item: "+e.setFocusItem,t)}}(e.execPlsqlResult);break;case"javascriptinitasjson":"function"==typeof t.clobCallback?(e.execPlsqlResult=JSON.parse(e.clob),t.clobCallback.call(t,e.execPlsqlResult)):apex.debug.warn('.... Error "clobCallback" function is missing from the config options. You must define this function in the "Javascript Initialization Code" attribute in your dynamic action!')}if(e.execPlsqlResult&&(e.execPlsqlResult.cancelActions&&(f=!0),e.execPlsqlResult.notification)){var
g=e.execPlsqlResult.notification;e.message=g.message,e.messageType=g.type,e.messageTitle=g.title}e.message&&(u=(u=e.messageType&&[r,l,o,n,i].includes(e.messageType)?e.messageType:o)===i?n:u,p=e.messageTitle,c=e.message,p&&C.performSubstitutions&&(p=apex.util.applyTemplate(p,{defaultEscapeFilter:null})),c&&C.performSubstitutions&&(c=apex.util.applyTemplate(c,{defaultEscapeFilter:null})),p&&C.escapeMessage&&(p=apex.util.escapeHTML(p)),c&&C.escapeMessage&&(c=apex.util.escapeHTML(c)),$.extend(a,{message:p?c:void 0,title:p||c,type:u,dismissAfter:u===n?void 0:a.dismissAfter}),fostr[u](a)),e.eventName&&apex.event.trigger("body",e.eventName,e),apex.da.resume(h,f)}else e.status==n&&(e.message&&(p=e.messageTitle,c=e.message,p&&C.performSubstitutions&&(p=apex.util.applyTemplate(p,{defaultEscapeFilter:null})),c&&C.performSubstitutions&&(c=apex.util.applyTemplate(c,{defaultEscapeFilter:null})),p&&C.escapeMessage&&(p=apex.util.escapeHTML(p)),c&&C.escapeMessage&&(c=apex.util.escapeHTML(c)),C.showErrorAsAlert?apex.message.alert(c):($.extend(a,{message:p?c:void 0,title:p||c,type:n,dismissAfter:void 0}),fostr.error(a),e.eventName&&apex.event.trigger("body",e.eventName,e))),apex.da.resume(h,!0))}(e)})).fail((function(e,t,s){apex.da.handleAjaxErrors(e,t,s,h)}))})).catch((function(e){apex.debug("##ERROR## FOS.Execute.PLSQL",e),apex.da.handleAjaxErrors({status:999},"FOS.Execute.PLSQL",e,h)}))};
//# sourceMappingURL=script.js.map

